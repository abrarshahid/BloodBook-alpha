{% extends 'blood_main_app/base.html' %}

{% load static %}
{% block title %}Edit Profile  -- BloodBook{% endblock %}
{% block icon %}
<div class="icon">
<img class="icon-nav" src="{% static '/BloodBook/svg/home.svg' %}" alt="" >
<img class="icon-nav" src="{% static '/BloodBook/svg/bell.svg' %}" alt="" >
<img  class="icon-nav" src="{% static '/BloodBook/svg/chat.svg' %}" alt="" >
<img  class="icon-nav mobile" src="{% static '/BloodBook/svg/donationrequest.svg' %}" alt="" > 

<div class="dropdown">
 {% if request.user.img %}
           <img class="user-pic" src="/media/{{request.user.img }}" alt="" >
           {% else %}

           <img class="user-pic" src="/static/BloodBook/svg/user.jpg" alt="" >
           {% endif %}

  <div class="dropdown-content" style="position: absolute;">
        <p class="loginandsignupbtn" style="outline: none;border: none;">
          <a href="/logout/" style="text-decoration: none;color: var(--main);">Logout</a>
          <br>
          <a href="/user-profile/{{request.user.username}}" style="text-decoration: none;color: var(--main);">Profile</a>
          <br>
          <a href="/edit-profile/"  style="text-decoration: none;color: var(--main);">Edit&nbsp;Profile</a></p>

  </div>
</div>
</div>



<div class="dropdown">
 {% if request.user.img %}
           <img class="user-pic mobilenav" src="/media/{{request.user.img }}" alt="" >
           {% else %}

          <img class="user-pic mobilenav" src="{% static '/BloodBook/svg/user.jpg' %}" alt="" >

           {% endif %}

  <div class="dropdown-content" style="position: absolute;">
        <p class="loginandsignupbtn" style="outline: none;border: none;">
          <a href="/logout/" style="text-decoration: none;color: var(--main);">Logout</a>
          <br>
          <a href="/user-profile/{{request.user.username}}" style="text-decoration: none;color: var(--main);">Profile</a>
          <br>
          <a href="/edit-profile/"  style="text-decoration: none;color: var(--main);">Edit&nbsp;Profile</a></p>

  </div>


{% endblock %}

{% block body %}
<div style="margin:10.5%">
 <div style="background: #dce6e0;border-radius: 24px;    text-align: center;">
    <a href="#" title="Close" class="modal-close">&times;</a>
    <h1>Edit Profile</h1>
   
   <form class="info-input" action="/edit-profile/" method="post" enctype="multipart/form-data"> {% csrf_token %}
    
      <img src='/static/BloodBook/svg/uploadimg.png' style="width: 50px;height: 50px;border-radius: 50%;" onclick="document.getElementById('my_file').click();return false;">
    <input type="file" id="my_file" name="myfiles" accept=".jpg,.png,.jpeg,.gif"  onchange="loadFile(event)" style="display: none;" />
   <br>
   	<img id="output" src="/media/{{img}}" width="60px" height="60px" style="border-radius: 50%;margin: 5px;" />

	<br>


    <input type="text" class="info-text" name="name" placeholder="Name" value="{{name}}" required><br>
    <input type="email" class="info-text" name="email" placeholder="Email" value="{{email}}" required><br>
    <input type="phone" class="info-text" name="phone" placeholder="Phone Number" value="{{phone_no}}" required><br>

    <select name="type" type="text"  class="info-text" id="bg">
    <option value="Choose">Choose your service type:</option>
    <option value="{{type}}" selected>{{type}}</option>
    <option value="volunteer">Volunteer</option>
    <option value="non-volunteer">Non Volunteer</option>
  </select><br>
      <select name="bloodgrp" type="text"  class="info-text" id="bg">
    <option value="Choose">Choose your blood group:</option>
    <option value="{{bloodgrp}}" selected>{{bloodgrp}}</option>
    <option value="A+" >A+</option>
    <option value="A-">A-</option>
    <option value="B+">B+</option>
    <option value="B-">B-</option>
    <option value="B+">B+</option>
    <option value="B-">B-</option>
    <option value="AB+">AB+</option>
    <option value="AB-">AB-</option>
    <option value="O+">O+</option>
    <option value="O-">O-</option>




  </select>
  <br>
   <select name="role" type="text"  class="info-text" id="bg">
   	
    <option value="Choose" >Choose your role in platform:</option>
    {% if role == "Donor and Receiver" %}
    <option value="Donor and Receiver" selected>Donor and Receiver</option>
    <option value="Receiver">Receiver</option>
    
  
    {% elif role == "Receiver" %}
    <option value="Donor and Receiver">Donor and Receiver</option>
    <option value="Receiver" selected>Receiver</option>
   
    {% endif %}
  </select>
  <br>
  	
    <input type="password" class="info-text" name="password"  placeholder="Password" required><br>
    <input type="password" class="info-text" name="cpassword" placeholder="Confirm Password" required>
   	<br>
    <button type="submit" class="filterbtn">Submit</button>
</form> 

</div>
</div>
<script type="text/javascript">

var loadFile = function(event) {
	var image = document.getElementById('output');
	image.src = URL.createObjectURL(event.target.files[0]);
};
</script>

</script>

{% endblock %}



{% block footer %}

 <div class="footer">
<div class="footer-icon">
<img class="icon-nav" style="margin-right: 8px;" src="{% static '/BloodBook/svg/home.svg' %}" alt="" >
<img class="icon-nav" style="margin-right: 8px;" src="{% static '/BloodBook/svg/bell.svg' %}" alt="" >
<img  class="icon-nav"style="margin-right: 8px;" src="{% static '/BloodBook/svg/chat.svg' %}" alt="" >

<img class="icon-nav" style="margin-right: 8px;" src="{% static '/BloodBook/svg/report.svg' %}" alt="" >
<img class="icon-nav" style="margin-right: 8px;" src="{% static '/BloodBook/svg/corona.svg' %}" alt="" >
<img  class="icon-nav mobile" src="{% static '/BloodBook/svg/donationrequest.svg' %}" alt="" >

<img class="icon-nav" style="margin-right: 8px;" src="{% static '/BloodBook/svg/donateorreceive.svg' %}" alt="" >

</div>
</div>

{% endblock %}